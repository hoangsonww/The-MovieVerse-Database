<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Screenwriting: Crafting the Story’s Blueprint – The MovieVerse</title>
    <link rel="stylesheet" href="../css/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="An exhaustive deep dive into screenwriting: idea development, structure, character arcs, dialogue, and the craft of transforming concepts into scripts."
    />
    <link rel="canonical" href="https://movie-verse.com/MovieVerse-Frontend/html/blog-screenwriting.html" />
    <meta property="og:title" content="Screenwriting: Crafting the Story’s Blueprint – The MovieVerse" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta http-equiv="content-language" content="en" />
    <meta
      property="og:description"
      content="An exhaustive deep dive into screenwriting: idea development, structure, character arcs, dialogue, and the craft of transforming concepts into scripts."
    />
    <meta property="og:url" content="https://movie-verse.com/MovieVerse-Frontend/html/blog-screenwriting.html" />
    <meta property="og:site_name" content="The MovieVerse" />
    <meta property="og:image" content="https://movie-verse.com/images/image-192x192.png" />
    <meta property="og:favicon" content="./images/favicon.ico" />
    <meta name="keywords" content="screenwriting, script, story structure, characters, dialogue, screenplay craft" />
    <meta name="author" content="Son Nguyen Hoang" />
    <meta name="robots" content="index, follow" />
    <meta name="rating" content="General" />
    <meta name="revisit-after" content="3 days" />
    <meta name="distribution" content="global" />
    <meta name="language" content="en" />
    <meta name="theme-color" content="#7378c5" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@MovieVerse" />
    <meta name="twitter:creator" content="@hoangsonw" />
    <meta name="twitter:title" content="Screenwriting: Crafting the Story’s Blueprint – The MovieVerse" />
    <meta
      name="twitter:description"
      content="An exhaustive deep dive into screenwriting: idea development, structure, character arcs, dialogue, and the craft of transforming concepts into scripts."
    />
    <meta name="twitter:image" content="https://movie-verse.com/images/image-192x192.png" />
    <!-- 1. Sitelinks SearchBox -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "url": "https://movie-verse.com/",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://movie-verse.com/MovieVerse-Frontend/html/search.html?search_query={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>

    <!-- 2. Organization -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "The MovieVerse",
        "url": "https://movie-verse.com/",
        "logo": "https://movie-verse.com/images/image-192x192.png"
      }
    </script>

    <!-- 3. BreadcrumbList -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://movie-verse.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Blog",
            "item": "https://movie-verse.com/MovieVerse-Frontend/html/blogs.html"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Screenwriting: Crafting the Story’s Blueprint",
            "item": "https://movie-verse.com/MovieVerse-Frontend/html/blog-screenwriting.html"
          }
        ]
      }
    </script>

    <!-- 4. Article -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://movie-verse.com/MovieVerse-Frontend/html/blog-screenwriting.html"
        },
        "headline": "Screenwriting: Crafting the Story’s Blueprint – The MovieVerse",
        "description": "An exhaustive deep dive into screenwriting: idea development, structure, character arcs, dialogue, and the craft of transforming concepts into scripts.",
        "author": {
          "@type": "Person",
          "name": "Son Nguyen Hoang"
        },
        "publisher": {
          "@type": "Organization",
          "name": "The MovieVerse",
          "logo": {
            "@type": "ImageObject",
            "url": "https://movie-verse.com/images/image-192x192.png"
          }
        },
        "datePublished": "2025-09-01",
        "dateModified": "2025-09-01",
        "image": "https://movie-verse.com/images/image-192x192.png"
      }
    </script>

    <!-- 5. Mobile-app & icon hints -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" sizes="192x192" href="https://movie-verse.com/images/image-192x192.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="https://movie-verse.com/images/image-192x192.png" />
    <meta name="msapplication-TileImage" content="https://movie-verse.com/images/image-192x192.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="manifest" href="../../manifest.json" />
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CQKJ67FXZ4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-CQKJ67FXZ4');
    </script>
    <style>
      body {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #1e1e2e;
        color: #ffffff;
        text-align: center;
        overflow-x: hidden;
        min-height: 100vh;
        background-image: url('../../images/universe-1.webp');
        background-repeat: repeat-y;
        background-size: 100% auto;
      }
      h2,
      h3 {
        margin: 20px 0 10px;
        color: #ff8623;
        animation: fadeInDown 1s ease-in-out;
      }
      p,
      ul,
      li {
        animation: fadeInDown 1s ease-in-out;
        line-height: 1.6;
        text-align: left;
      }
      main {
        padding: 20px;
        max-width: 800px;
        margin: 0 auto;
        text-align: left;
      }
      ul {
        list-style: disc inside;
        margin: 10px 0 20px;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @media (max-width: 600px) {
        main {
          padding: 10px;
        }
      }
      #translate_control {
        position: fixed;
        left: 10px;
        bottom: 10px;
        z-index: 1000000;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        border-radius: 8px;
      }
      @media (max-width: 767px) {
        #translate_control {
          bottom: 70px;
        }
      }
      .translate-trigger {
        background: #7378c5;
        color: #fff;
        padding: 10px;
        border-radius: 8px;
        cursor: pointer;
      }
      .translate-trigger:hover {
        background: #ff8623;
        transition: 0.1s;
      }
      #google_translate_element {
        display: none;
        position: fixed;
        left: 10px;
        bottom: 60px;
        background: #7378c5;
        border: none;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        padding: 5px;
        border-radius: 8px;
        z-index: 100000000;
        color: #fff;
      }
      .goog-te-combo {
        background: #7378c5 !important;
        color: #fff !important;
        border: 0.5px solid #fff !important;
        border-radius: 8px !important;
        font-size: 15px !important;
        padding-left: 5px !important;
      }
      .skiptranslate {
        color: #fff !important;
      }
      #games-button {
        background-color: #7378c5;
        bottom: 265px;
        right: 10px;
        color: black;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font: inherit;
        position: fixed;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
      #games-button:hover {
        background-color: #ff8623;
        transition: 0.1s ease-in;
      }
      #games-button {
        transition:
          transform 0.5s ease,
          opacity 0.5s ease;
        transform: translateY(20px);
        opacity: 0;
        display: none;
      }
      @media all and (min-width: 768px) {
        #games-button {
          display: block;
        }
        #c1 {
          padding: 0 !important;
        }
      }
      .goog-te-banner-frame {
        opacity: 0.8 !important;
        background: #f4f4f4 !important;
      }
    </style>
      <script src="../js/devtools-guard.js"></script>
</head>

  <body>
    <div id="google_translate_element"></div>
    <div id="translate_control">
      <div class="translate-trigger">Translate</div>
    </div>

    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script>
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {
            pageLanguage: 'en',
            layout: google.translate.TranslateElement.InlineLayout.VERTICAL,
            autoDisplay: false,
          },
          'google_translate_element'
        );
      }

      document.querySelector('.translate-trigger').addEventListener('click', function () {
        const translateEl = document.getElementById('google_translate_element');
        translateEl.style.display = translateEl.style.display === 'block' ? 'none' : 'block';
      });

      document.addEventListener('DOMContentLoaded', function () {
        let lastScrollTop = window.scrollY;
        const translateControl = document.getElementById('translate_control');
        const translateEl = document.getElementById('google_translate_element');

        window.addEventListener(
          'scroll',
          function () {
            let scrollTop = window.scrollY;

            if (window.innerWidth <= 767) {
              if (scrollTop > lastScrollTop && scrollTop > 0) {
                translateControl.style.display = 'none';
                translateEl.style.display = 'none';
              } else {
                translateControl.style.display = 'block';
              }
              lastScrollTop = scrollTop;
            }
          },
          { passive: true }
        );
      });
    </script>

    <!-- Header -->
    <header style="margin-bottom: -50px">
      <h1 id="my-heading" style="margin-bottom: -10px" class="notranslate">
        <a id="indexLink" href="../../index.html" style="text-decoration: none; color: inherit; cursor: pointer">
          The Mo<span class="highlight" id="highlight">vieV</span>erse
        </a>
      </h1>
      <div id="local-time" style="cursor: pointer; margin-left: 40px" title="Click to view more of your stats!">
        <p id="stats-label" class="clock" style="font-size: 16px"></p>
        <div id="stats-display" class="clock" style="font-size: 1.25em; font-weight: bold"></div>
      </div>
      <button class="back-btn notranslate" onclick="window.location.href='../../index.html'">Home</button>
      <button class="about notranslate" onclick="window.location.href='about.html'">About</button>
      <button class="favorites-btn notranslate" onclick="window.location.href='favorites.html'" title="View your favorites & watchlists">
        Favorites
      </button>
      <button id="nav-toggle" class="nav-toggle notranslate" title="Toggle side navbar" onclick="toggleNav()">
        <i class="fas fa-bars"></i>
      </button>
      <button id="googleSignInBtn" class="nav-btn notranslate" onclick="handleSignInOut()" title="Sign In/Out">
        <span id="signInOutText">Sign In</span>
        <i class="fas fa-sign-in-alt" id="signInIcon"></i>
        <i class="fas fa-sign-out-alt" id="signOutIcon" style="display: none"></i>
      </button>
      <button id="profileBtn" class="nav-btn notranslate" onclick="window.location.href='user-profile.html'" title="Go to your profile">
        <span id="profileText">Profile</span>
        <i class="fas fa-user" id="profileIcon"></i>
      </button>
      <form id="form1" style="animation: fadeIn 1.5s ease-in-out">
        <div class="search-container">
          <input
            type="text"
            id="search"
            placeholder="Search For Films, Actors..."
            class="search"
            title="Search for movies, actors, TV series, and more!"
          />
          <button type="button" id="button-search" onclick="handleSearch()">Search</button>
        </div>
        <div id="search-results" class="search-results"></div>
        <div class="buttons-container">
          <button type="button" id="view-all-results" style="display: none">View more results</button>
          <button type="button" id="clear-search" style="display: none">Clear</button>
        </div>
      </form>
    </header>

    <nav id="side-nav" class="side-nav" style="z-index: 1000000">
      <a id="heading-href" style="cursor: pointer" href="../../index.html" title="Click to go back to the home page">
        <div id="my-heading1" style="margin-bottom: 15px; margin-left: 0; margin-top: 15px; font-size: 2.1em; font-weight: bold">
          The Mo<span class="highlight2">vieV</span>erse
        </div>
      </a>
      <div id="button-container">
        <button id="button-remove" title="Close the navbar" onclick="removeNavBar()">Close</button>
      </div>
      <ul>
        <li><a href="#screenwriting-crafting-the-storys-blueprint">Screenwriting: Crafting the Story’s Blueprint</a></li>
        <li><a href="#the-spark-of-an-idea">1. The Spark of an Idea</a></li>
        <li><a href="#structure-the-three-act-paradigm">2. Structure: The Three-Act Paradigm</a></li>
        <li><a href="#character-development-arcs">3. Character Development &amp; Arcs</a></li>
        <li><a href="#scene-construction-beats">4. Scene Construction &amp; Beats</a></li>
        <li><a href="#dialogue-voice-subtext">5. Dialogue: Voice &amp; Subtext</a></li>
        <li><a href="#visual-writing-show-dont-tell">6. Visual Writing: Show, Don’t Tell</a></li>
        <li><a href="#formatting-industry-standards">7. Formatting &amp; Industry Standards</a></li>
        <li><a href="#research-authenticity">8. Research &amp; Authenticity</a></li>
        <li><a href="#rewriting-feedback">9. Rewriting &amp; Feedback</a></li>
        <li><a href="#pitch-logline-crafting">10. Pitch &amp; Logline Crafting</a></li>
        <li><a href="#navigating-the-industry">11. Navigating the Industry</a></li>
        <li><a href="#sustaining-the-craft">12. Sustaining the Craft</a></li>
      </ul>
    </nav>

    <main style="margin-top: 30px; padding: 1rem">
      <h2 id="screenwriting-crafting-the-storys-blueprint">Screenwriting: Crafting the Story’s Blueprint</h2>
      <div />

      <h3 id="the-spark-of-an-idea">1. The Spark of an Idea</h3>
      <p>
        Every screenplay begins with a seed: a “what if?” that ignites curiosity. Whether inspired by real events, myths, or pure invention, the idea
        must contain conflict at its core. Successful writers maintain idea journals, noting character sketches, intriguing settings, or thematic
        questions to revisit.
      </p>

      <h3 id="structure-the-three-act-paradigm">2. Structure: The Three-Act Paradigm</h3>
      <p>
        Traditional scripts adhere to three acts: setup, confrontation, and resolution. Act I (pages 1–30) introduces protagonist, world, and inciting
        incident. Act II (pages 30–90) escalates stakes through rising conflict and midpoint reversal. Act III (pages 90–120) delivers climax and
        denouement. Variations—five-act, Hero’s Journey—build on these fundamentals.
      </p>

      <h3 id="character-development-arcs">3. Character Development &amp; Arcs</h3>
      <p>
        Strong protagonists pursue clear objectives while undergoing internal change. Map character arcs across beats: introduction, catalyst,
        midpoint revelation, low point, and triumph or tragedy. Secondary characters reinforce themes, their subplots echoing or contrasting the
        hero’s journey.
      </p>

      <h3 id="scene-construction-beats">4. Scene Construction &amp; Beats</h3>
      <p>
        Scenes must have purpose: advancing plot or revealing character. Each contains a beginning (establish location and goal), middle (conflict),
        and end (cliffhanger or transition). Beats—micro-units of action—create rhythm within scenes. Well-placed beats sustain tension and guide
        audience emotion.
      </p>

      <h3 id="dialogue-voice-subtext">5. Dialogue: Voice &amp; Subtext</h3>
      <p>
        Dialogue should sound natural yet economical. Identify each character’s unique cadence and vocabulary. Subtext—what lies beneath spoken
        words—conveys inner conflict. Avoid on-the-nose exposition; show through action, interruption, or reaction beats.
      </p>

      <h3 id="visual-writing-show-dont-tell">6. Visual Writing: Show, Don’t Tell</h3>
      <p>
        Screenplays communicate visually. Describe only what can be seen or heard. Replace lengthy exposition with vivid images: a dilapidated mansion
        instead of “scary house.” Allow directors and actors to interpret nuance; leave breathing room between sluglines and action.
      </p>

      <h3 id="formatting-industry-standards">7. Formatting &amp; Industry Standards</h3>
      <p>
        Proper formatting ensures readability: Courier 12-point font, 1-inch margins. Use sluglines (INT./EXT.), action lines, character names
        centered above dialogue, parentheticals sparingly. Software such as Final Draft or Celtx automates these conventions.
      </p>

      <h3 id="research-authenticity">8. Research &amp; Authenticity</h3>
      <p>
        Accurate detail grounds fiction. For period pieces, study costume, dialogue, technology, and social norms. For specialized subjects—medicine,
        law, military—consult experts or veterans. Authenticity builds audience trust and immersion.
      </p>

      <h3 id="rewriting-feedback">9. Rewriting &amp; Feedback</h3>
      <p>
        First drafts are blueprints. Subsequent passes refine structure, tighten dialogue, and deepen theme. Solicit feedback from trusted peers or
        writers’ groups. Incorporate notes judiciously, preserving your unique voice while addressing plot holes or pacing issues.
      </p>

      <h3 id="pitch-logline-crafting">10. Pitch &amp; Logline Crafting</h3>
      <p>
        A logline—one- to two-sentence synopsis—must encapsulate protagonist, goal, obstacle, and stakes. Mastering the elevator pitch opens doors to
        agents, contests, and producers. Practice concise, compelling descriptions that spark interest.
      </p>

      <h3 id="navigating-the-industry">11. Navigating the Industry</h3>
      <p>
        Writers build careers through contests (Nicholl, Austin), fellowships, and networking (festivals, conferences). Showcases like The Black List
        highlight popular scripts. Understand option agreements, draft-for-hire, and credit arbitration (WGA guidelines) to protect your work.
      </p>

      <h3 id="sustaining-the-craft">12. Sustaining the Craft</h3>
      <p>
        Screenwriting is a marathon, not a sprint. Read scripts across genres, dissect films frame by frame, and write daily—whether pages, exercises,
        or prompts. Cultivating resilience and curiosity is as crucial as mastering technique.
      </p>
    </main>

    <button title="Back to Games" id="back-to-blogs-btn">
      <i class="fas fa-arrow-left" style="margin-right: 5px; font-size: 12px"></i>
      <span>Back to Blogs</span>
    </button>

    <button
      id="chat-button"
      onclick="window.location.href='chat.html'"
      style="bottom: 370px; right: 10px; z-index: 1001"
      title="Chat with fellow MovieVerse users!"
    >
      Chat
    </button>
    <button
      id="blog-button"
      onclick="window.location.href='blogs.html'"
      style="bottom: 335px; right: 10px; z-index: 1001"
      title="Read our latest blogs and articles!"
    >
      Blogs
    </button>
    <button
      id="games-button"
      onclick="window.location.href='games.html'"
      style="bottom: 300px; right: 10px; z-index: 1001"
      title="Play fun movie-related games!"
    >
      Games
    </button>
    <button id="settings-btn" style="position: fixed; bottom: 265px; right: 10px">Settings</button>
    <button
      id="movie-of-the-day-btn"
      onclick="showMovieOfTheDay()"
      title="Get a recommended movie to watch for today!"
      style="bottom: 230px; right: 10px"
    >
      Surprise Me!
    </button>
    <button
      id="movie-match-btn3"
      onclick="window.location.href='movie-match.html'"
      title="Find a movie that matches your mood, genre, and time period!"
      style="bottom: 195px; right: 10px"
    >
      Movie Match
    </button>
    <button
      id="movie-timeline-btn"
      onclick="window.location.href='movie-timeline.html'"
      title="Explore movies through different eras!"
      style="bottom: 160px; right: 10px"
    >
      Movie Timeline
    </button>
    <button
      id="discussions-btn"
      onclick="window.location.href='chatbot.html'"
      style="bottom: 125px; right: 10px"
      title="Chat with our intelligent chatbot!"
    >
      MovieVerse Chatbot
    </button>
    <button id="trivia-btn" onclick="window.location.href='trivia.html'" style="bottom: 90px; right: 10px" title="Test your movie knowledge">
      MovieVerse Trivia
    </button>

    <div id="mobile-bottom-bar" class="mobile-bottom-bar">
      <a href="chat.html" class="bottom-bar-item">
        <i class="fas fa-comments"></i>
        <span>Chat</span>
      </a>
      <a href="settings.html" class="bottom-bar-item">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </a>
      <a href="#" class="bottom-bar-item" onclick="showMovieOfTheDay()">
        <i class="fas fa-surprise"></i>
        <span>Surprise Me</span>
      </a>
      <a href="movie-match.html" class="bottom-bar-item">
        <i class="fas fa-film"></i>
        <span>Match</span>
      </a>
      <a href="movie-timeline.html" class="bottom-bar-item">
        <i class="fas fa-clock"></i>
        <span>Timeline</span>
      </a>
      <a href="chatbot.html" class="bottom-bar-item">
        <i class="fas fa-robot"></i>
        <span>Chatbot</span>
      </a>
      <a href="trivia.html" class="bottom-bar-item">
        <i class="fas fa-question-circle"></i>
        <span>Trivia</span>
      </a>
    </div>

    <button id="menu-btn" style="position: fixed; bottom: 10px; right: 10px; z-index: 1001" title="Toggle Menu Buttons">
      <i class="fas fa-ellipsis-h"></i><br />
      <span>Menu</span>
    </button>

    <script src="../js/actor-details.js"></script>

    <script>
      window.addEventListener('load', function () {
        adjustAnchorHeights();
      });

      window.addEventListener('resize', adjustAnchorHeights);

      function adjustAnchorHeights() {
        const bottomBarAnchors = document.querySelectorAll('.mobile-bottom-bar a');
        let maxHeight = 0;

        bottomBarAnchors.forEach(anchor => {
          anchor.style.height = 'auto';
          const anchorHeight = anchor.getBoundingClientRect().height;
          maxHeight = Math.max(maxHeight, anchorHeight);
        });

        bottomBarAnchors.forEach(anchor => {
          anchor.style.height = `${maxHeight}px`;
        });
      }

      let lastScrollY = window.scrollY;

      window.addEventListener('scroll', () => {
        const currentScrollY = window.scrollY;

        if (currentScrollY > lastScrollY && currentScrollY > 0) {
          document.querySelector('.mobile-bottom-bar').classList.add('hide-bar');
        } else {
          document.querySelector('.mobile-bottom-bar').classList.remove('hide-bar');
        }

        lastScrollY = currentScrollY;
      });

      let isAnimating = false;

      document.getElementById('menu-btn').addEventListener('click', () => {
        if (isAnimating) return;

        isAnimating = true;

        const buttonIds = [
          'chat-button',
          'blog-button',
          'games-button',
          'settings-btn',
          'movie-of-the-day-btn',
          'movie-match-btn3',
          'movie-timeline-btn',
          'discussions-btn',
          'trivia-btn',
        ];

        buttonIds.forEach((id, index) => {
          const button = document.getElementById(id);
          if (button.style.display === 'none' || !button.style.display) {
            button.style.display = 'block';
            setTimeout(() => {
              button.style.opacity = '1';
              button.style.transform = 'translateY(0)';
            }, 50 * index);
          } else {
            button.style.opacity = '0';
            button.style.transform = 'translateY(20px)';
          }

          setTimeout(
            () => {
              button.style.display = button.style.opacity === '1' ? 'block' : 'none';
              if (index === buttonIds.length - 1) {
                isAnimating = false;
              }
            },
            500 + 50 * index
          );
        });
      });
    </script>

    <script>
      document.getElementById('settings-btn').addEventListener('click', () => {
        window.location.href = 'settings.html';
      });

      document.addEventListener('DOMContentLoaded', () => {
        applySettings();

        function applySettings() {
          const savedBg = localStorage.getItem('backgroundImage');
          const savedTextColor = localStorage.getItem('textColor');
          const savedFontSize = localStorage.getItem('fontSize');

          if (savedBg) {
            document.body.style.backgroundImage = `url('${savedBg}')`;
          }
          if (savedTextColor) {
            document.querySelectorAll('h1, h2, h3, p, a, span, div, button, input, select, textarea, label, li').forEach(element => {
              element.style.color = savedTextColor;
            });
          }
          if (savedFontSize) {
            const size = savedFontSize === 'small' ? '12px' : savedFontSize === 'medium' ? '16px' : '20px';
            document.body.style.fontSize = size;
          }
        }
      });

      window.addEventListener('resize', () => {
        if (window.innerWidth < 767) {
          const buttonIds = [
            'chat-button',
            'blog-button',
            'games-button',
            'settings-btn',
            'movie-of-the-day-btn',
            'movie-match-btn3',
            'movie-timeline-btn',
            'discussions-btn',
            'trivia-btn',
          ];

          buttonIds.forEach(id => {
            const button = document.getElementById(id);
            button.style.display = 'none';
            button.style.opacity = '0';
            button.style.transform = 'translateY(20px)';
          });
        }
      });
    </script>

    <footer style="text-align: center">
      <a href="../../index.html" style="text-align: center; cursor: pointer; text-decoration: none">
        <p style="text-align: center; cursor: pointer; text-decoration: none">© <span id="year"></span> The MovieVerse. All rights reserved.</p>
      </a>
    </footer>

    <script>
      const currentYear = new Date().getFullYear();
      document.getElementById('year').textContent = currentYear;
    </script>

    <div id="myModal" class="modal-overlay">
      <div class="spinner"></div>
    </div>

    <script>
      document.getElementById('back-to-blogs-btn').addEventListener('click', function () {
        window.location.href = 'blogs.html';
      });

      document.addEventListener('DOMContentLoaded', function () {
        const searchBar = document.getElementById('search');
        const searchButton = document.getElementById('button-search');
        const myHeading = document.getElementById('my-heading');
        const localTime = document.getElementById('local-time');

        function toggleVisibility() {
          const query = searchBar.value.trim();
          if (query) {
            if (window.innerWidth > 800) {
              myHeading.style.visibility = 'hidden';
              myHeading.style.opacity = '0';
              localTime.style.visibility = 'hidden';
              localTime.style.opacity = '0';
            }
          } else {
            myHeading.style.visibility = 'visible';
            myHeading.style.opacity = '1';
            localTime.style.visibility = 'visible';
            localTime.style.opacity = '1';
          }
        }
        searchBar.addEventListener('input', toggleVisibility);
        toggleVisibility();
      });
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('search');
        const viewAllResultsBtn = document.getElementById('view-all-results');
        const clearSearchBtn = document.getElementById('clear-search');
        const searchResultsContainer = document.getElementById('search-results');
        const myHeading = document.getElementById('my-heading');
        const localTime = document.getElementById('local-time');
        const searchButton = document.getElementById('button-search');

        function toggleButtons() {
          const query = searchInput.value.trim();
          viewAllResultsBtn.style.display = query ? 'inline-block' : 'none';
          clearSearchBtn.style.display = query ? 'inline-block' : 'none';
        }

        clearSearchBtn.addEventListener('click', function () {
          searchInput.value = '';
          searchResultsContainer.innerHTML = '';
          toggleButtons();
          searchInput.focus();

          myHeading.style.visibility = 'visible';
          myHeading.style.opacity = '1';
          localTime.style.visibility = 'visible';
          localTime.style.opacity = '1';
        });

        toggleButtons();
        searchInput.addEventListener('input', toggleButtons);
      });
    </script>

    <script>
      function showSpinner() {
        document.getElementById('myModal').classList.add('modal-visible');
      }

      function hideSpinner() {
        document.getElementById('myModal').classList.remove('modal-visible');
      }

      document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('search').addEventListener('input', function (e) {
          showSpinner();
          const viewAllResultsBtn = document.getElementById('view-all-results');
          const searchInput = document.getElementById('search');
          const query = e.target.value.trim();
          const searchResultsContainer = document.getElementById('search-results');

          viewAllResultsBtn.style.display = query ? 'block' : 'none';

          function toggleButtons() {
            viewAllResultsBtn.style.display = query ? 'inline-block' : 'none';
            const clearSearchBtn = document.getElementById('clear-search');
            clearSearchBtn.style.display = query ? 'inline-block' : 'none';
          }

          if (query) {
            const searchURL = `https://${getMovieVerseData()}/3/search/multi?${generateMovieNames()}${getMovieCode()}&query=${encodeURIComponent(query)}`;
            fetch(searchURL)
              .then(response => response.json())
              .then(data => {
                const sortedResults = data.results.sort((a, b) => b.popularity - a.popularity);
                displaySearchResults(sortedResults.slice(0, 5));
              })
              .catch(err => console.log('Fetching error:', err));
          } else {
            searchInput.value = '';
            searchResultsContainer.innerHTML = '';
            toggleButtons();
            searchInput.focus();
          }

          searchInput.addEventListener('input', function () {
            if (searchInput.value.trim()) {
              viewAllResultsBtn.style.display = 'block';
            } else {
              viewAllResultsBtn.style.display = 'none';
            }
          });

          viewAllResultsBtn.addEventListener('click', function () {
            const searchQuery = searchInput.value.trim();
            if (searchQuery) {
              localStorage.setItem('searchQuery', searchQuery);
              window.location.href = 'search.html';
            } else {
              alert('Please enter a search query.');
            }
          });

          hideSpinner();
        });

        function displaySearchResults(results) {
          showSpinner();
          const resultsContainer = document.getElementById('search-results');
          resultsContainer.innerHTML = '';

          results.forEach(item => {
            const card = document.createElement('div');
            card.className = 'search-result-card';
            card.style.cursor = 'pointer';

            const imagePath =
              item.poster_path || item.profile_path ? `https://image.tmdb.org/t/p/w500${item.poster_path || item.profile_path}` : null;

            if (imagePath) {
              const image = document.createElement('img');
              image.src = imagePath;
              image.className = 'result-image';
              card.appendChild(image);
            } else {
              const placeholder = document.createElement('div');
              placeholder.className = 'result-image-placeholder';
              placeholder.textContent = 'Image Not Available';
              placeholder.style.textAlign = 'center';
              placeholder.style.padding = '10px';
              card.appendChild(placeholder);
            }

            const details = document.createElement('div');
            details.className = 'result-details';

            const name = document.createElement('div');
            name.className = 'result-name';
            name.textContent = item.title || item.name;
            details.appendChild(name);

            const type = document.createElement('div');
            type.className = 'result-type';
            type.textContent = item.media_type === 'movie' ? 'Movie' : item.media_type === 'tv' ? 'TV Series' : 'Person';
            details.appendChild(type);

            card.appendChild(details);
            resultsContainer.appendChild(card);

            card.addEventListener('click', () => handleResultClick(item));
          });

          hideSpinner();
        }

        async function handleResultClick(item) {
          console.log('Clicked item:', item.media_type, item.id);

          if (!item.media_type) {
            console.log('Media type is undefined');
            return;
          }

          if (item.media_type === 'movie') {
            // Navigate to movie details page with movieId as a query parameter
            window.location.href = `movie-details.html?movieId=${item.id}`;
          } else if (item.media_type === 'tv') {
            // Navigate to TV details page with tvSeriesId as a query parameter
            window.location.href = `tv-details.html?tvSeriesId=${item.id}`;
          } else if (item.media_type === 'person') {
            try {
              const personDetailsUrl = `https://${getMovieVerseData()}/3/person/${item.id}?${generateMovieNames()}${getMovieCode()}`;
              const response = await fetch(personDetailsUrl);
              const personDetails = await response.json();

              if (personDetails.known_for_department === 'Directing') {
                localStorage.setItem('selectedDirectorId', item.id);
                window.location.href = 'director-details.html?' + item.id;
              } else {
                localStorage.setItem('selectedActorId', item.id);
                window.location.href = 'actor-details.html?' + item.id;
              }
            } catch (error) {
              console.log('Error fetching person details:', error);
            }
          } else {
            console.log('Unknown media type:', item.media_type);
          }
        }
      });

      document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('search');
        const viewAllResultsBtn = document.getElementById('view-all-results');
        const clearSearchBtn = document.getElementById('clear-search');
        const searchResultsContainer = document.getElementById('search-results');
        let selectedIndex = -1;

        function clearSelection() {
          const results = searchResultsContainer.getElementsByClassName('search-result-card');
          if (selectedIndex >= 0 && selectedIndex < results.length) {
            results[selectedIndex].style.backgroundColor = '';
          } else if (selectedIndex === results.length) {
            viewAllResultsBtn.style.backgroundColor = '';
          } else if (selectedIndex === results.length + 1) {
            clearSearchBtn.style.backgroundColor = '';
          }
        }

        function moveSelection(direction) {
          const results = searchResultsContainer.getElementsByClassName('search-result-card');
          const totalElements = results.length + 2;
          clearSelection();

          if (direction === 'down') {
            selectedIndex = (selectedIndex + 1) % totalElements;
          } else if (direction === 'up') {
            selectedIndex = (selectedIndex - 1 + totalElements) % totalElements;
          }

          if (selectedIndex < results.length) {
            results[selectedIndex].style.backgroundColor = '#ff8623';
            results[selectedIndex].scrollIntoView({ block: 'nearest' });
          } else if (selectedIndex === results.length) {
            viewAllResultsBtn.style.backgroundColor = '#ff8623';
            viewAllResultsBtn.scrollIntoView({ block: 'nearest' });
          } else if (selectedIndex === results.length + 1) {
            clearSearchBtn.style.backgroundColor = '#ff8623';
            clearSearchBtn.scrollIntoView({ block: 'nearest' });
          }
        }

        searchInput.addEventListener('keydown', function (e) {
          if (e.key === 'ArrowDown' || (e.key === 'Tab' && !e.shiftKey)) {
            e.preventDefault();
            moveSelection('down');
          } else if (e.key === 'ArrowUp' || (e.key === 'Tab' && e.shiftKey)) {
            e.preventDefault();
            moveSelection('up');
          } else if (e.key === 'Enter') {
            e.preventDefault();
            if (selectedIndex >= 0 && selectedIndex < searchResultsContainer.getElementsByClassName('search-result-card').length) {
              searchResultsContainer.getElementsByClassName('search-result-card')[selectedIndex].click();
            } else if (selectedIndex === searchResultsContainer.getElementsByClassName('search-result-card').length) {
              viewAllResultsBtn.click();
            } else if (selectedIndex === searchResultsContainer.getElementsByClassName('search-result-card').length + 1) {
              clearSearchBtn.click();
            } else {
              const query = searchInput.value.trim();
              localStorage.setItem('searchQuery', query);
              window.location.href = 'search.html';
            }
          }
        });

        searchInput.addEventListener('blur', clearSelection);
      });
    </script>

    <script>
      const sideNav = document.getElementById('side-nav');
      const navToggle = document.getElementById('nav-toggle');
      const removeBtn = document.getElementById('button-remove');

      function adjustNavBar() {
        if (sideNav.classList.contains('manual-toggle')) {
          sideNav.style.left = '0';
        } else {
          sideNav.style.left = '-250px';
        }
      }

      navToggle.addEventListener('click', () => {
        sideNav.classList.toggle('manual-toggle');
        adjustNavBar();
      });

      removeBtn.addEventListener('click', () => {
        sideNav.classList.remove('manual-toggle');
        adjustNavBar();
      });

      // show on hover when hidden
      document.addEventListener('mousemove', e => {
        if (e.clientX < 20 && !sideNav.classList.contains('manual-toggle')) {
          sideNav.style.left = '0';
        }
      });
      sideNav.addEventListener('mouseleave', () => {
        if (!sideNav.classList.contains('manual-toggle')) {
          sideNav.style.left = '-250px';
        }
      });

      // click outside to close
      document.addEventListener('click', e => {
        if (!sideNav.contains(e.target) && !navToggle.contains(e.target) && sideNav.classList.contains('manual-toggle')) {
          sideNav.classList.remove('manual-toggle');
          adjustNavBar();
        }
      });

      // initialize position
      adjustNavBar();
    </script>
  </body>
</html>
